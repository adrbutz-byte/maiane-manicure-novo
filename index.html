<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maiane Manicure - Agendamento R√°pido</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Configura√ß√£o de Cores e Fontes */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            /* Tonalidades de Rosa Maiane */
            --primary-pink: #ff69b4; /* Rosa Choque principal */
            --dark-pink: #d12e69; /* Rosa escuro para t√≠tulos */
            --light-bg: #f9f9f9; /* Fundo muito claro/branco */
            --text-color: #333;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light-bg); 
            min-height: 100vh;
            color: var(--text-color);
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Estilo do T√≠tulo do Passo (Borda esquerda rosa) */
        .step-title {
            font-weight: 700;
            font-size: 1.25rem; /* text-xl */
            color: #374151; /* gray-700 */
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-pink);
            padding-left: 0.75rem;
        }

        /* Estilo dos Cards de Servi√ßo e Hor√°rio (Visual das caixas) */
        .box-item {
            padding: 16px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* Sombra suave */
            border: 2px solid transparent; /* Borda transparente inicial */
            transition: all 0.2s ease;
            cursor: pointer;
            text-align: left;
        }
        
        /* Estado Selecionado (Aplicado a Servi√ßo, Data e Hor√°rio) */
        .selected-item {
            border-color: var(--primary-pink) !important;
            background-color: #fff0f5; /* Rosa muito suave para fundo */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }
        
        /* Estilos espec√≠ficos para o novo Seletor de Data */
        .date-card {
            min-width: 80px; /* Largura m√≠nima para ser leg√≠vel */
            text-align: center;
            padding: 10px 0;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .date-card .day-name {
            font-size: 0.8rem;
            color: #9ca3af; /* gray-400 */
            margin-bottom: 4px;
        }
        /* Destaque do Nome do Dia na data selecionada */
        .date-card.selected-item .day-name {
            color: var(--dark-pink); /* Cor de texto do dia selecionado */
        }
        /* Custom scrollbar para o seletor de data */
        #date-selection-container::-webkit-scrollbar {
            height: 5px;
        }
        #date-selection-container::-webkit-scrollbar-thumb {
            background: #ffc0cb; /* Rosa claro para o thumb */
            border-radius: 10px;
        }
        #date-selection-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        /* Oculta os passos futuros inicialmente */
        #step-2, #step-3 {
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: opacity 0.5s ease, max-height 0.5s ease;
        }
        
        /* Mostra o passo com anima√ß√£o */
        .step-visible {
            opacity: 1 !important;
            max-height: 800px !important; /* Valor alto para garantir que caiba */
            margin-top: 1.5rem;
            margin-bottom: 2.5rem;
        }

        /* Bot√£o de Confirma√ß√£o local */
        #confirm-service-button {
            padding: 12px;
            border-radius: 8px;
            background-color: var(--dark-pink);
            color: white;
            font-weight: 700;
            transition: background-color 0.2s;
        }
        
        #confirm-service-button:hover {
             background-color: var(--primary-pink);
        }
        
        /* Estilos para o Destaque da Logo/Foto */
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            padding-bottom: 10px;
        }
        
        .profile-pic-large {
            width: 150px; 
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            /* Anel duplo de destaque */
            border: 6px solid var(--primary-pink); /* Anel rosa prim√°rio */
            outline: 3px solid white; /* Anel interno branco */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2); /* Sombra mais forte */
            margin-bottom: 15px;
        }
        
        /* NOVO ESTILO: Descri√ß√£o do Servi√ßo com mais destaque (mantido) */
        #detail-description {
            font-size: 1rem; /* Aumenta de 0.875rem (sm) para 1rem (base) */
            font-weight: 600; /* Deixa negrito m√©dio */
            color: #4b5563; /* gray-600 */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Cabe√ßalho com Destaque na Logo -->
        <header class="logo-container">
            <!-- NOVO: Referenciando o arquivo da sua logo. O nome deve ser EXATO! (ex: perfil.png) -->
            <img src="perfil.png" alt="Logo Maiane Manicure" class="profile-pic-large">
            <h1 class="text-3xl font-extrabold text-gray-800">Maiane Manicure</h1>
            <p class="text-md text-gray-500">Agende em 3 passos</p>
        </header>
        
        <!-- Passo 1: Sele√ß√£o de Servi√ßos -->
        <section id="step-1" class="mb-6">
            <h2 class="step-title">1. Escolha o Servi√ßo</h2>
            
            <div id="services-list" class="space-y-3">
                <!-- Cards de Servi√ßo ser√£o injetados aqui -->
            </div>
            
            <!-- Detalhes do Servi√ßo Selecionado (Com destaque rosa) -->
            <div id="service-details" class="mt-6 p-4 box-item hidden">
                <p class="text-xl font-extrabold text-dark-pink mb-2" id="detail-name"></p>
                <!-- A descri√ß√£o agora est√° mais detalhada no JS -->
                <p class="mb-3" id="detail-description"></p>
                <div class="flex justify-between items-center text-md font-semibold text-gray-700">
                    <span>Pre√ßo: <strong id="detail-price" class="text-primary-pink"></strong></span>
                    <span>Tempo: <strong id="detail-duration" class="text-primary-pink"></strong></span>
                </div>
                <button id="confirm-service-button" class="mt-4 w-full">
                    Confirmar e Escolher Data
                </button>
            </div>
        </section>

        <!-- Passo 2: Sele√ß√£o de Data (NOVO VISUAL COM SCROLL) -->
        <section id="step-2" class="mb-6">
            <h2 class="step-title">2. Selecione a Data</h2>
            <!-- Container para a lista de datas elegante e rolavel (overflow-x-scroll) -->
            <div id="date-selection-container" class="flex overflow-x-scroll space-x-3 pb-3">
                <p class="text-gray-500 py-3">Selecione um servi√ßo primeiro...</p>
            </div>
            <p id="date-warning" class="text-sm text-red-500 mt-2 hidden">Por favor, selecione uma data no futuro.</p>
        </section>

        <!-- Passo 3: Sele√ß√£o de Hor√°rio (NOVO FLUXO DE PER√çODO) -->
        <section id="step-3" class="mb-20">
            <h2 class="step-title">3. Escolha o Per√≠odo e Hor√°rio</h2>
            
            <!-- Sele√ß√£o de Per√≠odo (Manh√£ / Tarde) -->
            <div id="period-selection" class="grid grid-cols-2 gap-3 mb-4 hidden">
                <button data-period="morning" class="period-button box-item">Manh√£ (08h √†s 12h)</button>
                <button data-period="afternoon" class="period-button box-item">Tarde (13h √†s 17h)</button>
            </div>
            
            <!-- Hor√°rios ap√≥s sele√ß√£o do per√≠odo -->
            <div id="time-slots-wrapper" class="hidden">
                <p class="text-sm text-gray-500 mb-2 font-medium">Hor√°rios dispon√≠veis na <strong id="selected-period-text"></strong>:</p>
                <div id="time-slots" class="grid grid-cols-3 gap-3">
                    <!-- Hor√°rios correspondentes ao per√≠odo ser√£o injetados aqui -->
                </div>
            </div>
        </section>
        
        <!-- Bot√£o Flutuante de Agendamento -->
        <section id="final-booking-area" class="sticky bottom-0 left-0 right-0 bg-white p-4 shadow-2xl z-10 rounded-t-xl border-t border-gray-100">
            <div class="max-w-sm mx-auto space-y-3">
                <div class="flex justify-between items-center text-sm font-semibold text-gray-700">
                    <span class="truncate">Servi√ßo: <strong id="summary-service">---</strong></span>
                    <span class="truncate">Data: <strong id="summary-date">---</strong></span>
                    <span class="text-xl font-extrabold text-primary-pink">Total: <strong id="summary-price">---</strong></span>
                </div>
                
                <button id="book-button" disabled class="w-full py-3 rounded-xl bg-gray-300 text-white font-bold text-lg transition duration-150">
                    Preencha todos os passos
                </button>
            </div>
        </section>

    </div>

    <!-- Script JavaScript para a L√≥gica -->
    <script>
        // --- CONFIGURA√á√ÉO DE SERVI√áOS E HOR√ÅRIOS ---
        const SERVICES = [
            { 
                id: 1, 
                name: "P√©", 
                duration: "1:30 min", 
                price: 30.00, 
                description: "Cuidado completo para os seus p√©s. Inclui imers√£o, cutilagem precisa, hidrata√ß√£o e esmalta√ß√£o com a cor de sua prefer√™ncia. P√©s macios e bem cuidados!", 
                icon: "üë£" 
            },
            { 
                id: 2, 
                name: "M√£o", 
                duration: "1:30 min", 
                price: 30.00, 
                description: "Tratamento especializado para suas m√£os. Cutilagem impec√°vel, massagem relaxante e aplica√ß√£o de esmalte de alta qualidade para um acabamento perfeito.", 
                icon: "üíÖ" 
            },
            { 
                id: 3, 
                name: "Unha Posti√ßa", 
                duration: "1:30 min", 
                price: 40.00, 
                description: "Alongamento com unhas posti√ßas (tips ou soft gel), seguido de cutilagem e esmalta√ß√£o. Unhas longas, resistentes e com o formato que voc√™ desejar!", 
                icon: "‚ú®" 
            },
            { 
                id: 4, 
                name: "Combo P√© e M√£o", 
                duration: "2:30 min", 
                price: 50.00, 
                description: "O pacote completo para sua beleza! P√©s e m√£os impec√°veis em uma √∫nica sess√£o. Inclui cutilagem, hidrata√ß√£o e esmalta√ß√£o profissional para ambos.", 
                icon: "üëë" 
            },
            { 
                id: 5, 
                name: "Esmalta√ß√£o", 
                duration: "1:30 min", 
                price: 15.00, 
                description: "Servi√ßo r√°pido focado na aplica√ß√£o do esmalte. Limpeza superficial e pintura caprichada (cores √† escolha do cliente). Ideal para retoques!", 
                icon: "üåà" 
            },
        ];
        
        // Hor√°rios fixos de atendimento agrupados por per√≠odo
        const TIME_SLOTS_ALL = [
            { time: "08:30", period: "morning" },
            { time: "10:00", period: "morning" },
            { time: "13:00", period: "afternoon" },
            { time: "14:30", period: "afternoon" },
            { time: "16:00", period: "afternoon" },
        ];
        
        // --- ESTADO DA APLICA√á√ÉO ---
        let selectedService = null;
        let selectedDate = null;
        let selectedPeriod = null; // Novo estado para Manh√£/Tarde
        let selectedTime = null;

        // --- FUN√á√ïES AUXILIARES ---

        function formatCurrency(value) {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }
        
        function scrollToElement(id) {
            // Rola para o elemento, subtraindo 70px para n√£o ser coberto pelo cabe√ßalho
            const element = document.getElementById(id);
            if (element) {
                const y = element.getBoundingClientRect().top + window.scrollY - 70;
                window.scrollTo({ top: y, behavior: 'smooth' });
            }
        }

        /**
         * Controla a visibilidade e anima√ß√£o dos passos.
         * @param {string} stepId ID do passo a mostrar (ex: 'step-2').
         */
        function showStep(stepId) {
            const stepElement = document.getElementById(stepId);
            stepElement.classList.add('step-visible');
            setTimeout(() => {
                scrollToElement(stepId);
            }, 10);
        }

        /**
         * Gera os objetos de data para os pr√≥ximos 30 dias. (Atualizado de 7 para 30)
         */
        function getAvailableDates() {
            const dates = [];
            const today = new Date();
            
            // Nomes dos dias da semana em portugu√™s
            const dayNames = ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "S√°b"];

            // Gerar datas para os pr√≥ximos 30 dias
            const numberOfDays = 30; 
            for (let i = 0; i < numberOfDays; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                // Formato AAAA-MM-DD para o valor (usado internamente)
                const value = date.toISOString().split('T')[0];
                
                // Formato para exibi√ß√£o
                const day = date.getDate();
                const dayName = dayNames[date.getDay()];
                
                dates.push({ value, day, dayName });
            }
            return dates;
        }

        // --- L√ìGICA DE RENDERIZA√á√ÉO ---

        /**
         * Renderiza os cards de servi√ßo.
         */
        function renderServices() {
            const servicesList = document.getElementById('services-list');
            servicesList.innerHTML = '';

            SERVICES.forEach(service => {
                const card = document.createElement('div');
                card.id = `service-${service.id}`;
                card.classList.add('box-item', 'service-card', 'hover:border-primary-pink');
                card.setAttribute('data-id', service.id);
                
                card.innerHTML = `
                    <div class="flex items-center justify-between">
                        <span class="text-2xl mr-4">${service.icon}</span>
                        <div class="flex-grow">
                            <div class="text-lg font-bold text-gray-800">${service.name}</div>
                            <!-- Descri√ß√£o mais discreta na lista -->
                            <div class="text-xs text-gray-500 mt-1">${service.description}</div>
                        </div>
                        <div class="text-xl font-extrabold text-primary-pink">${formatCurrency(service.price)}</div>
                    </div>
                `;

                card.addEventListener('click', () => selectService(service.id));
                servicesList.appendChild(card);
            });
        }
        
        /**
         * Renderiza os cards de sele√ß√£o de data.
         */
        function renderDateSelection() {
            const container = document.getElementById('date-selection-container');
            container.innerHTML = '';
            const dates = getAvailableDates();

            dates.forEach(dateObj => {
                
                const card = document.createElement('div');
                card.classList.add('box-item', 'date-card', 'hover:border-primary-pink');
                card.setAttribute('data-date', dateObj.value);
                
                card.innerHTML = `
                    <span class="day-name">${dateObj.dayName}</span>
                    <span class="text-2xl">${dateObj.day}</span>
                `;
                
                // Se a data j√° estiver selecionada, marca como selecionada
                if (selectedDate === dateObj.value) {
                    card.classList.add('selected-item');
                }

                card.addEventListener('click', () => selectDate(dateObj.value, card));
                container.appendChild(card);
            });
        }
        
        /**
         * Renderiza os bot√µes de hor√°rio, filtrados pelo per√≠odo.
         */
        function renderTimeSlots(slots) {
            const timeSlotsContainer = document.getElementById('time-slots');
            timeSlotsContainer.innerHTML = '';

            if (!slots || slots.length === 0) {
                timeSlotsContainer.innerHTML = '<p class="text-center text-gray-500 col-span-3">Nenhum hor√°rio dispon√≠vel neste per√≠odo.</p>';
                return;
            }

            slots.forEach(slot => {
                const button = document.createElement('button');
                button.classList.add('box-item', 'time-slot-button', 'text-lg', 'font-bold', 'text-center', 'hover:border-primary-pink');
                button.textContent = slot.time;
                button.setAttribute('data-time', slot.time);
                
                button.addEventListener('click', (e) => selectTimeSlot(slot.time, e.currentTarget));
                timeSlotsContainer.appendChild(button);
            });
        }


        // --- L√ìGICA DE SELE√á√ÉO E FLUXO ---
        
        /**
         * Seleciona um servi√ßo e mostra seus detalhes.
         */
        function selectService(id) {
            selectedService = SERVICES.find(s => s.id === id);
            const detailBox = document.getElementById('service-details');

            // 1. Limpa sele√ß√£o anterior dos cards de servi√ßo
            document.querySelectorAll('.service-card').forEach(card => card.classList.remove('selected-item'));
            
            // 2. Marca o card de servi√ßo atual
            const currentCard = document.getElementById(`service-${id}`);
            currentCard.classList.add('selected-item');
            
            // 3. Aplica o estilo de sele√ß√£o √† caixa de detalhes
            detailBox.classList.add('selected-item');
            
            // 4. Atualiza os detalhes 
            document.getElementById('detail-name').textContent = selectedService.name;
            document.getElementById('detail-description').textContent = selectedService.description;
            document.getElementById('detail-price').textContent = formatCurrency(selectedService.price);
            document.getElementById('detail-duration').textContent = selectedService.duration;
            detailBox.classList.remove('hidden');
            
            // 5. Limpa passos futuros e resumo
            selectedDate = null;
            selectedPeriod = null;
            selectedTime = null;
            updateSummary();
            
            // Esconde os passos 2 e 3 e seus elementos internos
            document.getElementById('step-2').classList.remove('step-visible');
            document.getElementById('step-3').classList.remove('step-visible');
            document.getElementById('period-selection').classList.add('hidden');
            document.getElementById('time-slots-wrapper').classList.add('hidden');
            
            // Garante que o bot√£o final est√° desativado
            updateBookButton();
        }
        
        /**
         * Confirma o servi√ßo e avan√ßa para o passo 2.
         */
        function confirmService() {
            if (!selectedService) return;
            
            // Mostra o pr√≥ximo passo (Data)
            showStep('step-2');
            renderDateSelection(); // Renderiza as novas op√ß√µes de data
        }

        /**
         * Seleciona a data e avan√ßa para a escolha do Per√≠odo.
         */
        function selectDate(dateString, cardElement) {
            selectedDate = dateString;
            selectedTime = null; 
            selectedPeriod = null;
            
            // Atualiza o visual da sele√ß√£o de data: limpa e marca o novo
            document.querySelectorAll('.date-card').forEach(card => card.classList.remove('selected-item'));
            cardElement.classList.add('selected-item');
            
            // Limpa sele√ß√µes de hor√°rio e per√≠odo
            document.querySelectorAll('.period-button').forEach(btn => btn.classList.remove('selected-item'));
            document.getElementById('time-slots').innerHTML = '';
            document.getElementById('time-slots-wrapper').classList.add('hidden');
            
            updateSummary();
            updateBookButton();

            // Mostra o passo 3 (Per√≠odo)
            showStep('step-3');
            document.getElementById('period-selection').classList.remove('hidden');
            document.getElementById('selected-period-text').textContent = '---'; // Limpa o texto
            scrollToElement('period-selection'); // Rola para a sele√ß√£o de per√≠odo
        }
        
        /**
         * Seleciona o Per√≠odo (Manh√£/Tarde) e renderiza os hor√°rios correspondentes.
         */
        function selectPeriod(period, buttonElement) {
            selectedPeriod = period;
            selectedTime = null; // Zera o hor√°rio
            
            // Atualiza o visual da sele√ß√£o de per√≠odo
            document.querySelectorAll('.period-button').forEach(btn => btn.classList.remove('selected-item'));
            buttonElement.classList.add('selected-item');
            
            // Define o texto do per√≠odo
            document.getElementById('selected-period-text').textContent = (period === 'morning' ? 'Manh√£' : 'Tarde');
            
            // Filtra e renderiza os hor√°rios
            const filteredSlots = TIME_SLOTS_ALL.filter(slot => slot.period === selectedPeriod);
            renderTimeSlots(filteredSlots);

            // Mostra os slots
            document.getElementById('time-slots-wrapper').classList.remove('hidden');
            
            updateSummary();
            updateBookButton();
        }

        /**
         * Seleciona o hor√°rio final.
         */
        function selectTimeSlot(time, button) {
            selectedTime = time;
            
            // 1. Limpa sele√ß√£o anterior
            document.querySelectorAll('.time-slot-button').forEach(btn => btn.classList.remove('selected-item'));
            
            // 2. Marca o bot√£o atual
            button.classList.add('selected-item');
            
            // 3. Atualiza o resumo e ativa o bot√£o final
            updateSummary();
            updateBookButton();
        }

        /**
         * Atualiza o resumo na √°rea flutuante.
         */
        function updateSummary() {
            document.getElementById('summary-service').textContent = selectedService ? selectedService.name : '---';
            document.getElementById('summary-price').textContent = selectedService ? formatCurrency(selectedService.price) : '---';
            
            // Formata a data para visualiza√ß√£o
            if (selectedDate) {
                const dateParts = selectedDate.split('-'); // YYYY-MM-DD
                document.getElementById('summary-date').textContent = `${dateParts[2]}/${dateParts[1]}`;
            } else {
                document.getElementById('summary-date').textContent = '---';
            }
        }

        /**
         * Ativa/desativa e estiliza o bot√£o final de agendamento.
         */
        function updateBookButton() {
            const bookButton = document.getElementById('book-button');
            if (selectedService && selectedDate && selectedTime) {
                bookButton.disabled = false;
                bookButton.textContent = `Agendar ${selectedService.name} - ${selectedTime}`;
                bookButton.classList.remove('bg-gray-300');
                bookButton.classList.add('bg-primary-pink', 'hover:bg-dark-pink');
            } else {
                bookButton.disabled = true;
                bookButton.textContent = 'Preencha todos os passos';
                bookButton.classList.add('bg-gray-300');
                bookButton.classList.remove('bg-primary-pink', 'hover:bg-dark-pink');
            }
        }
        
        /**
         * Executa a a√ß√£o final: monta a mensagem e redireciona para o WhatsApp.
         */
        function finalizeBooking() {
            if (!selectedService || !selectedDate || !selectedTime) return;

            const formattedPrice = formatCurrency(selectedService.price);
            const dateParts = selectedDate.split('-'); // YYYY-MM-DD
            const formattedDate = `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`;

            const message = 
                `Ol√°, Maiane! Gostaria de agendar o seguinte:\n\n` +
                `- Servi√ßo: ${selectedService.name}\n` +
                `- Descri√ß√£o: ${selectedService.description}\n` +
                `- Pre√ßo: ${formattedPrice}\n` +
                `- Dura√ß√£o Estimada: ${selectedService.duration}\n\n` +
                `*Data:* ${formattedDate}\n` +
                `*Hor√°rio:* ${selectedTime}\n\n` +
                `Aguardo sua confirma√ß√£o!`;
            
            const whatsappMessage = encodeURIComponent(message);
            
            // Seu n√∫mero de telefone (apenas n√∫meros, incluindo o 55 e DDD)
            const phone = "5573999624432"; 
            window.open(`https://api.whatsapp.com/send?phone=${phone}&text=${whatsappMessage}`, '_blank');
        }


        // --- INICIALIZA√á√ÉO E LISTENERS ---
        window.onload = () => {
            renderServices();

            // Listeners de eventos
            document.getElementById('confirm-service-button').addEventListener('click', confirmService);
            document.getElementById('book-button').addEventListener('click', finalizeBooking);

            // Listener para os bot√µes de per√≠odo (Manh√£/Tarde)
            document.querySelectorAll('.period-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    selectPeriod(e.currentTarget.getAttribute('data-period'), e.currentTarget);
                });
            });
        };
    </script>
</body>
</html>
